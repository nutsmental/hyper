(self.webpackChunkhypergames=self.webpackChunkhypergames||[]).push([[19],{19:function(t,e,a){"use strict";a.r(e),a.d(e,{CategoriesPageModule:function(){return A}});var i=a(8583),s=a(3679),n=a(7823),o=a(952),r=a(4762),c=a(5453),g=a(9019),l=a(8186),m=a(2772),d=a(3760),u=a(3511);function h(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"ion-col",7),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw(2).openGame(null==e?null:e.game_url)}),l._UZ(1,"img",8),l.TgZ(2,"div",9),l.TgZ(3,"small",10),l._uU(4),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit;l.xp6(1),l.Q6J("defaultImage","../../../assets/loader.png")("lazyLoad",null==t?null:t.thumbnail),l.xp6(3),l.hij(" ",null==t?null:t.name," ")}}function p(t,e){if(1&t&&(l.TgZ(0,"ion-grid"),l.TgZ(1,"ion-row"),l.YNc(2,h,5,3,"ion-col",6),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(2),l.Q6J("ngForOf",t.categoryData)}}const f=[{path:"",component:(()=>{class t{constructor(t,e,a){this.webApi=t,this.route=e,this.iab=a,this.categoryName="",this.categoryData=[],this.options={adId:g.N.interstitial_ad_id,isTesting:g.N.testing_ad}}ngOnInit(){this.categoryId=this.route.snapshot.paramMap.get("id"),this.categoryName=this.route.snapshot.paramMap.get("name"),this.prepareData(),this.makeCategoryData(),this.initAdmob()}prepareData(){localStorage.getItem("games")?this.games=JSON.parse(localStorage.getItem("games")):this.getData(),this.makeCategoryData()}getData(){this.webApi.getData().subscribe(t=>{"success"==t[0].status&&(localStorage.setItem("games",JSON.stringify(t[0].data[0])),this.games=t[0].data[0])})}initAdmob(){return(0,r.mG)(this,void 0,void 0,function*(){yield c.TQ.initialize({})})}openGame(t){return(0,r.mG)(this,void 0,void 0,function*(){this.prepareAd();const e=this.iab.create(t,"_blank","location=no,mediaPlaybackRequiresUserAction=yes");e.on("exit").subscribe(t=>{this.showAd()}),e.on("loaderror").subscribe(t=>{e.close(),this.showAd()})})}showAd(){return(0,r.mG)(this,void 0,void 0,function*(){yield c.TQ.showInterstitial().then(t=>{},t=>{})})}prepareAd(){return(0,r.mG)(this,void 0,void 0,function*(){yield c.TQ.prepareInterstitial(this.options).then(t=>{},t=>{})})}makeCategoryData(){if(this.categoryData=[],null!=this.games)for(let t=0;t<this.games.games.length;t++)this.games.games[t].category_id==this.categoryId&&this.categoryData.push(this.games.games[t]);null==this.games&&setTimeout(()=>{this.prepareData()},2500)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(m.Q),l.Y36(o.gz),l.Y36(d.i))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-categories"]],decls:7,vars:3,consts:[[1,"animate__animated","animate__fadeInDown","animate__faster"],["lines","none"],[1,"ion-padding"],[1,"game-font"],[1,"ion-padding",3,"fullscreen"],[4,"ngIf"],["class","animate__animated animate__fadeInUp animate__fast","size-xs","6","size-sm","6","size-md","3","size-lg","3",3,"click",4,"ngFor","ngForOf"],["size-xs","6","size-sm","6","size-md","3","size-lg","3",1,"animate__animated","animate__fadeInUp","animate__fast",3,"click"],[1,"card-image","game-card",3,"defaultImage","lazyLoad"],[1,"small-gap"],[1,"ion-text-center"]],template:function(t,e){1&t&&(l.TgZ(0,"ion-header",0),l.TgZ(1,"ion-item",1),l.TgZ(2,"ion-label",2),l.TgZ(3,"h1",3),l._uU(4),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(5,"ion-content",4),l.YNc(6,p,3,1,"ion-grid",5),l.qZA()),2&t&&(l.xp6(4),l.Oqu(e.categoryName),l.xp6(1),l.Q6J("fullscreen",!0),l.xp6(1),l.Q6J("ngIf",e.categoryData.length>0))},directives:[n.Gu,n.Ie,n.Q$,n.W2,i.O5,n.jY,n.Nd,i.sg,n.wI,u.z1],styles:[""]}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[o.Bz.forChild(f)],o.Bz]}),t})();var _=a(5389);let A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[i.ez,s.u5,n.Pc,u.mZ,_.aw,y]]}),t})()}}]);